<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>JS Bin</title>
</head>
<body>
<script>
  // 数字转千分位
  function handleThousands(number) {
    if (number < 999) {
      return number
    } else {
      var residue = number % 1000;
      var exactDivision  = parseInt(number / 1000); 
      return (exactDivision > 999 ? handleThousands(exactDivision) : exactDivision) +','+ fillUp(residue);
    }
  };
  // 位数补全
  function fillUp(number) {
    var str = number + '';
    var len = str.length;
    var diffLen = 3-len;
    for (var i = 0; i < diffLen; i++) {
      str = '0'+str;
    }
    return str;
  }

  // 更高效简洁的方式
  function handleThousandsNew(number) {
    return String(number).replace(/\d{1,3}(?=(\d{3})+$)/g,function(s){
      return s+','
    })
  }
  console.log("handleThousands", handleThousands(99))
  console.log("handleThousands", handleThousands(1000))
  console.log("handleThousands", handleThousands(11000))
  console.log("handleThousands", handleThousands(10002))
  console.log("handleThousands", handleThousands(808002))
  console.log("handleThousands", handleThousands(888808002))

  console.log("handleThousandsNew",handleThousandsNew(99))
  console.log("handleThousandsNew",handleThousandsNew(1000))
  console.log("handleThousandsNew",handleThousandsNew(11000))
  console.log("handleThousandsNew",handleThousandsNew(10002))
  console.log("handleThousandsNew",handleThousandsNew(808002))
  console.log("handleThousandsNew",handleThousandsNew(888808002))
</script>
</body>
</html>